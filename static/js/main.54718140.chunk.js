(this["webpackJsonpq-monitor"]=this["webpackJsonpq-monitor"]||[]).push([[0],{25:function(t,e,a){},26:function(t,e,a){},47:function(t,e,a){"use strict";a.r(e);var n=a(3),l=a.n(n),r=a(13),i=a.n(r),o=(a(25),a(26),a(18)),s=a(14),c=a(15),d=a(2),u=a(20),h=a(19),b=a(16),v=a.n(b),j=a(17),f=a.n(j),g=a(0),p={table:{overflowY:"scroll"},tableHeader:{tr:{minWidth:"280px",fontWeight:"bold"},td:{minWidth:"280px"},dates:{td:{minWidth:"110px",padding:"0 5px",width:"110px"}}}},O=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).handleIntervalChange=function(t){n.setState({intervalSec:t.target.value})},n.loadDataInterval=function(t){var e=n.state.interval;n.state.loadingSeq?clearInterval(e):(e=setInterval(n.loadData,1e3*n.state.intervalSec),n.setState({interval:e})),n.setState({loadingSeq:!n.state.loadingSeq})},n.updateHistory=function(t){var e=n.state.queues;t.forEach((function(t){var a=e[t.name];a.sort((function(t,e){return e.date-t.date})),a&&a.length>0?(t.diff=t.value-a[0].value,a[0].value>t.value?t.valueShow="".concat(t.value," (-)"):a[0].value<t.value?t.valueShow="".concat(t.value," (+)"):t.valueShow="".concat(t.value," (=)"),a=[t].concat(Object(o.a)(a))):(t.valueShow=t.value,a=[t]);var l=a.map((function(t){return t.date}));n.setState({dates:l}),e[t.name]=a})),n.setState({queues:e})},n.loadData=function(){n.setState({loading:!0}),v.a.get("https://devsupport.cebroker.com/queuescount").then((function(t){var e=function(t){var e=t.matchAll(/<tr style='color: (.+?);.+?>.+?<td>(.+?)<\/td>.+?<td>(.+?)<\/td>.+?<\/tr>/g),a=new Date;return Array.from(e).map((function(t){return{name:t[2],value:t[3],color:t[1],date:a}}))}(t.data.item[0].text,n.state.queues);n.updateHistory(e),n.setState({loading:!1})})).catch((function(t){console.error(t),n.setState({loading:!1})}))},n.state={queues:[],dates:[],loading:!1,intervalSec:30,loadingInterval:!1,interval:null},n.loadData=n.loadData.bind(Object(d.a)(n)),n.updateHistory=n.updateHistory.bind(Object(d.a)(n)),n.handleIntervalChange=n.handleIntervalChange.bind(Object(d.a)(n)),n.loadDataInterval=n.loadDataInterval.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var t=this;return Object(g.jsxs)("div",{children:[Object.keys(this.state.queues).length>0?Object(g.jsxs)("table",{border:"1",style:p.table,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{style:p.tableHeader.tr,children:[Object(g.jsx)("td",{style:p.tableHeader.td,children:"Queue"}),this.state.dates.map((function(t){return Object(g.jsx)("td",{style:p.tableHeader.dates.td,children:f()(t).format("hh:mm:ss A DD/MM/YY")},t)}))]})}),Object(g.jsx)("tbody",{children:Object.keys(this.state.queues).map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e},e+t.state.queues[e].date),t.state.queues[e].map((function(t){return Object(g.jsx)("td",{style:{color:t.color},title:t.diff,children:t.valueShow},(new Date).getTime()+"-"+t.date)}))]},e)}))})]}):Object(g.jsx)("p",{children:"No data to display!!!"}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{onClick:this.loadData,disabled:this.state.loading,children:this.state.loading?"Loading Queues...":"Load Queues"}),Object(g.jsx)("br",{}),Object(g.jsxs)("label",{children:["Interval (Sec.):",Object(g.jsx)("input",{type:"number",value:this.state.intervalSec,onChange:this.handleIntervalChange})]}),Object(g.jsx)("button",{onClick:this.loadDataInterval,children:this.state.loadingSeq?"Stop loading Interval":"Load Interval"})]})}}]),a}(n.Component);var m=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(O,{})})},x=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,48)).then((function(e){var a=e.getCLS,n=e.getFID,l=e.getFCP,r=e.getLCP,i=e.getTTFB;a(t),n(t),l(t),r(t),i(t)}))};i.a.render(Object(g.jsx)(l.a.StrictMode,{children:Object(g.jsx)(m,{})}),document.getElementById("root")),x()}},[[47,1,2]]]);
//# sourceMappingURL=main.54718140.chunk.js.map