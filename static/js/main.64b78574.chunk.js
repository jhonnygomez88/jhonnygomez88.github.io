(this["webpackJsonpq-monitor"]=this["webpackJsonpq-monitor"]||[]).push([[0],{24:function(t,e,a){},25:function(t,e,a){},46:function(t,e,a){"use strict";a.r(e);var n=a(3),l=a.n(n),s=a(13),o=a.n(s),i=(a(24),a(25),a(14)),r=a(15),c=a(2),d=a(19),u=a(18),h=a(16),b=a.n(h),v=a(17),j=a.n(v),f=a(0),g="QUEUE_DATA",O={},S={table:{overflowY:"scroll"},tableHeader:{tr:{minWidth:"280px",fontWeight:"bold"},td:{minWidth:"280px"},dates:{td:{minWidth:"110px",padding:"0 5px",width:"110px"}}}},x=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).handleIntervalChange=function(t){n.setState({intervalSec:t.target.value})},n.loadDataInterval=function(t){var e=n.state.interval;n.state.loadingSeq?clearInterval(e):(e=setInterval(n.loadData,1e3*n.state.intervalSec),n.setState({interval:e})),n.setState({loadingSeq:!n.state.loadingSeq})},n.loadData=function(){n.setState({loading:!0});var t=localStorage.getItem(g);t&&n.setState({queues:JSON.parse(t)},(function(){Object.keys(n.state.queues).forEach((function(t){n.loadDates(n.state.queues[t].history)}))})),b.a.get("https://devsupport.cebroker.com/queuescount").then((function(t){n.getQueues(t.data.item[0].text,n.state.queues),n.setState({loading:!1})})).catch((function(t){console.error(t),n.setState({loading:!1})}))},n.deleteHistory=function(){localStorage.removeItem(g),n.setState({queues:{}}),alert("History deleted!")},n.state={dates:[],queues:{},loading:!1,intervalSec:30,loadingInterval:!1,interval:null},n.loadData=n.loadData.bind(Object(c.a)(n)),n.handleIntervalChange=n.handleIntervalChange.bind(Object(c.a)(n)),n.loadDataInterval=n.loadDataInterval.bind(Object(c.a)(n)),n.deleteHistory=n.deleteHistory.bind(Object(c.a)(n)),n.loadDates=n.loadDates.bind(Object(c.a)(n)),n}return Object(r.a)(a,[{key:"getQueues",value:function(t){var e=this,a=t.matchAll(/<tr style='color: (.+?);.+?>.+?<td>(.+?)<\/td>.+?<td>(.+?)<\/td>.+?<\/tr>/g),n=new Date;Array.from(a).forEach((function(t){var a,l=(null===(a=(O=e.state.queues)[t[2]])||void 0===a?void 0:a.history)||[],s={value:t[3],color:t[1],date:n},o=l.length>0?l[0]:null;o?(s.diff=s.value-o.value,o.value>s.value?s.valueShow="".concat(s.value," (-)"):o.value<s.value?s.valueShow="".concat(s.value," (+)"):s.valueShow="".concat(s.value," (=)")):(s.valueShow=s.value,s.diff="N/D"),l.unshift(s),e.loadDates(l),O[t[2]]={name:t[2],history:l},e.setState({queues:O}),localStorage.setItem(g,JSON.stringify(O))}))}},{key:"loadDates",value:function(t){var e=t.map((function(t){return t.date}));this.setState({dates:e})}},{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var t=this;return Object(f.jsxs)("div",{children:[Object.keys(this.state.queues).length>0?Object(f.jsxs)("table",{border:"1",style:S.table,children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{style:S.tableHeader.tr,children:[Object(f.jsx)("td",{style:S.tableHeader.td,children:"Queue"}),this.state.dates.map((function(t){return Object(f.jsx)("td",{style:S.tableHeader.dates.td,children:j()(t).format("hh:mm:ss A DD/MM/YY")},t)}))]})}),Object(f.jsx)("tbody",{children:Object.keys(this.state.queues).map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e},e),t.state.queues[e].history.map((function(t){return Object(f.jsx)("td",{style:{color:t.color},title:t.diff,children:t.valueShow},(new Date).getTime()+"-"+t.date)}))]},e)}))})]}):Object(f.jsx)("p",{children:"No data to display!!!"}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{onClick:this.loadData,disabled:this.state.loading,children:this.state.loading?"Loading Queues...":"Load Queues"}),Object(f.jsx)("br",{}),Object(f.jsxs)("label",{children:["Interval (Sec.):",Object(f.jsx)("input",{type:"number",value:this.state.intervalSec,onChange:this.handleIntervalChange})]}),Object(f.jsx)("button",{onClick:this.loadDataInterval,children:this.state.loadingSeq?"Stop loading Interval":"Load Interval"}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{onClick:this.deleteHistory,children:"Delete History"}),Object(f.jsx)("br",{})]})}}]),a}(n.Component);var y=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(x,{})})},m=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,47)).then((function(e){var a=e.getCLS,n=e.getFID,l=e.getFCP,s=e.getLCP,o=e.getTTFB;a(t),n(t),l(t),s(t),o(t)}))};o.a.render(Object(f.jsx)(l.a.StrictMode,{children:Object(f.jsx)(y,{})}),document.getElementById("root")),m()}},[[46,1,2]]]);
//# sourceMappingURL=main.64b78574.chunk.js.map