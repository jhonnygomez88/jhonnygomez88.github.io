{"version":3,"sources":["components/QueueList.js","App.js","reportWebVitals.js","index.js"],"names":["styles","table","tableHeader","tr","td","dates","QueueList","props","handleIntervalChange","event","setState","intervalSec","target","value","loadDataInterval","interval","state","loadingSeq","clearInterval","setInterval","loadData","updateHistory","data","queues","forEach","queue","history","name","length","diff","valueShow","sort","a","b","date","map","q","loading","axios","get","then","res","processedData","matchAll","pDate","Date","Array","from","match","color","getQueues","item","text","catch","err","console","error","loadingInterval","bind","this","Object","keys","border","style","dt","moment","format","title","getTime","onClick","disabled","type","onChange","Component","App","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.91e4f7ff.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport moment from 'moment';\n\nconst queueUrl = \"https://devsupport.cebroker.com/queuescount\";\nconst MASK = \"hh:mm:SS A DD/MM/YY\";\n\nconst getQueues = (data)=>{\n  let processedData = data.matchAll(/<tr style='color: (.+?);.+?>.+?<td>(.+?)<\\/td>.+?<td>(.+?)<\\/td>.+?<\\/tr>/g);\n  //let date = data.match(/<strong>(.+?)<\\/strong>/i);\n  //let pDate = new moment(date[1], \"MM/DD/YYYY, HH:mm:SS A\").toDate().getTime();\n  let pDate = new Date();\n\n  let queues = Array.from(processedData).map(match=>{\n    return {\n      name: match[2],\n      value: match[3],\n      color: match[1],\n      date: pDate\n    }\n  })\n  return queues;\n}\n\nconst styles = {\n  table: {\n    'overflowY': 'scroll'\n  },\n  tableHeader: {\n    tr: { 'minWidth': '280px', 'fontWeight': 'bold' },\n    td: { 'minWidth': '280px' },\n    dates: {\n      td: { 'minWidth': '110px', 'padding': '0 5px', 'width':'110px' }\n    }\n  }\n}\n\nclass QueueList extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      queues: [],\n      dates: [],\n      loading: false,\n      intervalSec: 30,\n      loadingInterval: false,\n      interval: null\n    };\n    this.loadData = this.loadData.bind(this);\n    this.updateHistory = this.updateHistory.bind(this);\n    this.handleIntervalChange = this.handleIntervalChange.bind(this);\n    this.loadDataInterval = this.loadDataInterval.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  handleIntervalChange =(event)=>{\n    this.setState({intervalSec: event.target.value});\n  }\n\n  loadDataInterval =  (event)=>{\n    let interval = this.state.interval;\n    if(this.state.loadingSeq){\n      clearInterval(interval);\n    }else{\n      interval = setInterval(this.loadData, this.state.intervalSec * 1000);\n      this.setState({interval});\n    }\n    this.setState({loadingSeq: !this.state.loadingSeq});\n  }\n\n  updateHistory = (data)=>{\n\n    let queues =  this.state.queues;\n    data.forEach(queue => {\n      let history  = queues[queue.name];\n\n      if(history && history.length > 0){\n        queue.diff = queue.value - history[0].value\n        if(history[0].value > queue.value){\n          queue.valueShow = `${queue.value} (-)`;\n        }else if(history[0].value < queue.value){\n          queue.valueShow = `${queue.value} (+)`;\n        }else{\n          queue.valueShow = `${queue.value} (=)`;\n        }\n        history = [queue,...history];\n      }else{\n        queue.valueShow = queue.value;\n        history = [queue];\n      }\n      history.sort((a,b)=>{\n        return b.date - a.date\n      });\n      let dates = history.map(q=>{\n        return q.date;\n      })\n      this.setState({ dates });\n      queues[queue.name] = history;\n    });\n    this.setState({ queues });\n  }\n\n  loadData = ()=>{\n    this.setState({ loading: true });\n    axios.get(queueUrl)\n        .then(res => {\n          const queues = getQueues(res.data.item[0].text, this.state.queues);\n          this.updateHistory(queues);\n          this.setState({ loading: false });\n        }).catch(err =>{\n          console.error(err);\n          this.setState({ loading: false });\n        })\n  }\n\n  render() {\n      return (\n        <div>\n            { Object.keys(this.state.queues).length > 0 ?\n              <table border='1' style = {styles.table}\n              >\n                <thead>\n                  <tr style = {styles.tableHeader.tr}>\n                    <td style = {styles.tableHeader.td}>Queue</td>\n                    {\n                      this.state.dates.map(dt => {\n                        return <td key={dt} style = {styles.tableHeader.dates.td}>{moment(dt).format(MASK)}</td>\n                      })\n                    }\n                  </tr>\n                </thead>\n                <tbody>\n                    { \n                      Object.keys(this.state.queues).map(queue => {\n                        return (\n                          <tr key={queue}>\n                            <td key={queue+this.state.queues[queue].date}>{queue}</td>\n                            {\n                              this.state.queues[queue].map(history => {\n                                return <td style={{color: history.color}} key={new Date().getTime()+\"-\"+history.date} title={history.diff}>{history.valueShow}</td>\n                              })\n                            }\n                          </tr>\n                        );  \n                      })\n                    }\n                  </tbody>\n              </table>\n            :\n              <p>No data to display!!!</p>\n            }\n          <br/>\n          <button onClick={this.loadData} disabled={this.state.loading}>{this.state.loading?\"Loading Queues...\":\"Load Queues\"}</button>\n          <br/>\n          <label>\n            Interval (Sec.):\n            <input type=\"number\" value={this.state.intervalSec} onChange={this.handleIntervalChange} />\n          </label>\n          <button onClick={this.loadDataInterval}>{ this.state.loadingSeq ? \"Stop loading Interval\" : \"Load Interval\" }</button>\n        </div>\n        \n    );\n  }\n}\n \nexport default QueueList;","import './App.css';\nimport QueueList from './components/QueueList'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <QueueList></QueueList>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}